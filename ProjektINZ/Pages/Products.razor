@page "/"
@using ProjektKalorie.Pages
@using ShopOnline.Models.Dtos

@inherits ProductBase

@if(Products==null)
{
    <h3>Loading products</h3>
}
else
{

    <h3 class="mb-5">Products </h3>
    var productCout = Products.Count();

    @if(productCout>0)
    {
        const int itemsPerRow = 4;
        var productsRowList = new List<ProductDto>();

        @for(int i=0; i<productCout;i++)
        {
            productsRowList = Products.Skip(i * itemsPerRow).Take(itemsPerRow).ToList();

            <div class = "row mt-3">

                @foreach(var item in productsRowList)
                {
                    <div class ="col-md-3 mb-2">
                        <a href="#">
                            <div class="card">
                                <img class="img-thumbnail" src="@item.ImageURL">

                                <div  class="card-body">
                                    <h5 class="card-title mb-3">
                                        @item.Name

                                    </h5>
                                    <p class="card-text">
                                       <b>@item.Calories.ToString() Kcl/100g</b> 
                                       
                                    </p>
                                    

                                </div>

                            </div>
                        </a>
                        </div>

                }

            </div>
        }
    }
}
